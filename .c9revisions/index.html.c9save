{"ts":1370495429277,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"\r\n<!DOCTYPE html>\r\n<html>\r\n    <head>\r\n        <meta charset=\"utf-8\" />\r\n        <meta name=\"viewport\" content=\"initial-scale=1.0, user-scalable=no\" />\r\n        <meta name=\"apple-mobile-web-app-capable\" content=\"yes\" />\r\n        <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black\" />\r\n        <script src=\"http://code.jquery.com/jquery-1.7.2.min.js\"></script>\r\n        <script src=\"http://code.jquery.com/ui/1.8.21/jquery-ui.min.js\"></script>\r\n        <script src=\"https://raw.github.com/furf/jquery-ui-touch-punch/master/jquery.ui.touch-punch.min.js\"></script>                 \r\n        <link rel=\"stylesheet\" href=\"https://s3.amazonaws.com/codiqa-cdn/mobile/1.2.0/jquery.mobile-1.2.0.min.css\" />\r\n        <script src=\"https://s3.amazonaws.com/codiqa-cdn/mobile/1.2.0/jquery.mobile-1.2.0.min.js\">\r\n\r\n        </script>\r\n        <!-- about jquery touch punch that allow us to use jquery ui with mobile enviroment -->\r\n        <link href=\"http://code.jquery.com/ui/1.8.21/themes/ui-lightness/jquery-ui.css\" rel=\"stylesheet\">\r\n   \r\n   <script src=\"/socket.io/socket.io.js\"></script>\r\n        \r\n    </head>\r\n    <body> \r\n\t\t<script>\r\n\t\t\tvar socket;\r\n\t\t\t\r\n\t\t\t//***********\r\n\t\t\t// DTO\r\n\t\t\t//***********\r\n\t\t\tfunction RequestDTO()\r\n\t\t\t{ \r\n\t\t\t\tvar MessageNum; //Integer\r\n\t\t\t\tvar id; // String\r\n                var password; //String\r\n                var subjectNum;\r\n                var lectureNum;\r\n\t\t\t}\r\n\t\t\r\n\t\t\t//***********\r\n\t\t\t// 함수\r\n\t\t\t//***********\r\n\t\t\t//연결 함수\r\n\t\t\tfunction connectbtn() {\r\n                console.log(\"Connection...\");\r\n\t\t\t\tdocument.getElementById('socket').style.visibility='hidden';\r\n\r\n\t\t    \tsocket = io.connect('http://lattetime.cafe24.com:9999');\r\n        //        socket = io.connect('http://latte_time.snowyjune.c9.io');\r\n\r\n                socket.on('data', function (res) {\r\n                    console.log(\"result : messageNum - \"+res.MessageNum);\r\n                    console.log(\"result : id - \"+res.id);\r\n                    console.log(\"result : success - \"+res.success);\r\n                \r\n                    //결과 받은 거 출력\r\n                    switch (parseInt(res.MessageNum, 10)) {\r\n                        case 302:\r\n                            console.log(\"result : is_success - \"+res.is_success);\r\n                            break;\r\n                        case 304:\r\n                            console.log(\"result : is_success - \"+res.is_success);\r\n                            break;\r\n                        case 306:\r\n                            console.log(\"result : subjectList \");\r\n                            var list = res.subjectList;\r\n                            for(var i = 0 ; i <list.length ; i++){\r\n                                console.log((i+1) +\"th item =====================================\");\r\n                                console.log(\"=> subjetNum : \" + list[i].subjectNum +\" \");\r\n                                console.log(\"=> subjetName : \" + list[i].subjectName +\" \");\r\n                                console.log(\"=> subjetClass : \" + list[i].subjectClass +\" \\n\");\r\n                            }\r\n                            break;\r\n                        case 308:\r\n                            console.log(\"result : lectureList \");\r\n                            var list = res.lectureList;\r\n                             for(var i = 0 ; i <list.length ; i++){\r\n                                console.log((i+1) +\"th item =====================================\");\r\n                                console.log(\"=> lecNum : \" + list[i].lecNum +\" \");\r\n                                console.log(\"=> lecName : \" + list[i].lecName +\"\\n\");\r\n                            }\r\n                            break;\r\n                        case 310:\r\n                            console.log(\"result : activityList \");\r\n                             var list = res.activityList;\r\n                             for(var i = 0 ; i <list.length ; i++){\r\n                                console.log( (i+1) +\"th item =====================================\");\r\n                                console.log(\"=> actNum : \" + list[i].actNum +\" \");\r\n                                console.log(\"=> actName : \" + list[i].actName +\" \");\r\n                                console.log(\"=> actType : \" + list[i].actType +\" \");\r\n                                console.log(\"=> actImg : \" + list[i].actImg +\"\\n\");\r\n                            }\r\n                            break;\r\n                        case 312:\r\n                            break;\r\n                        case 314:\r\n                            break;\r\n                        case 316:\r\n                            break;\r\n                        case 318:\r\n                            break;\r\n                        case 320:\r\n                            break;\r\n                        case 322:\r\n                            break;\r\n                    }\r\n            \r\n                });     \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//연결 종료 함수\r\n\t\t\tfunction close() {\r\n\t\t\t\tconsole.log(\"Closing...\");\r\n\t\t\t\tsocket.emit('close');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//데이터 전송 함수\r\n\t\t\tfunction sendData(){\r\n\t\t\t\tvar dto = new RequestDTO(); //보낼 데이터를 담은 dto\r\n\t\t\t\t\r\n\t\t\t\t//dto에 입력 받은 데이터 넣기\r\n\t\t\t\tdto.MessageNum = document.getElementById(\"send_message_type\").value;\r\n\t\t\t\tdto.id = document.getElementById(\"send_id\").value;\r\n\t\t\t\t\r\n                console.log(\"messagenum : \"+ dto.MessageNum);\r\n                \r\n                //MesseageNum에 따라 dto 구성하기\r\n                switch (parseInt(document.getElementById(\"send_message_type\").value,10)) {\r\n                    case 301:\r\n                        dto.password =  document.getElementById(\"send_pw\").value;\r\n                        break;\r\n                    case 303:\r\n                        //nothing\r\n                        break;\r\n                    case 305:\r\n                        //nothing\r\n                        break;\r\n                    case 307:\r\n                        console.log(\"subject num is \" + document.getElementById(\"subject_num\").value);\r\n                        dto.subjectNum = document.getElementById(\"subject_num\").value;\r\n                        break;\r\n                    case 309:\r\n                         console.log(\"lecture num is \" + document.getElementById(\"lecture_num\").value);\r\n                        dto.lectureNum = document.getElementById(\"lecture_num\").value;\r\n                        break;\r\n                    case 311:\r\n                        //lectureInfo\r\n                        //activityList\r\n                        break;\r\n                    case 313:\r\n                        break;\r\n                    case 315:\r\n                        break;\r\n                    case 317:\r\n                        break;\r\n                    case 319:\r\n                        break;\r\n                    case 321:\r\n                        dto.subjectNum = dto.password =  document.getElementById(\"subjectNum\").value;\r\n                        break;\r\n                }\r\n                \r\n                \r\n\t\t\t\t//전송\r\n\t\t\t\tsocket.emit('data', dto);\r\n                console.log(\"send : \"+dto.MessageNum);\r\n\t\t\t}\r\n\r\n\t\t</script>\r\n\r\n\t\t<input type=\"button\" onclick=\"javascript:connectbtn();\" id=\"socket\" value=\"webpage\"></input>\r\n\r\n\t\t<input type=\"button\" onclick=\"javascript:close()\" value=\"close\"></input>\r\n\t\t메세지 타입:<input type=\"text\" id=\"send_message_type\" ></input>\r\n\t\tID:<input type=\"text\" id=\"send_id\"></input>\r\n        PW:<input type=\"text\" id=\"send_pw\"></input>\r\n        subjectNum:<input type=\"text\" id=\"subject_num\"></input>\r\n        lectureNum:<input type=\"text\" id=\"lecture_num\"></input>\r\n\t\t<button type=\"button\" onclick=\"sendData();\">전송</button>\r\n\t</body>\r\n</html>"]],"start1":0,"start2":0,"length1":0,"length2":7636}]],"length":7636}
